<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Server Code Example</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/themes/prism-okaidia.min.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/components/prism-core.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.24.1/plugins/autoloader/prism-autoloader.min.js"></script>
</head>
<body>
    <h1>Server Code Example</h1>
    <p>This is a simple Java server that calculates the sum of numbers from 1 to the provided number.</p>
    
    <pre><code class="language-java">
import java.io.*;
import java.net.*;

public class Server {
    public static void main(String[] args) {
        try (BufferedReader console = new BufferedReader(new InputStreamReader(System.in))) {
            System.out.print("Enter port number to start the server: ");
            int port = Integer.parseInt(console.readLine());

            ServerSocket serverSocket = new ServerSocket(port);
            System.out.println("Server started on port " + port + ", waiting for client...");

            Socket clientSocket = serverSocket.accept();
            System.out.println("Client connected: " + clientSocket.getInetAddress());

            BufferedReader in = new BufferedReader(new InputStreamReader(clientSocket.getInputStream()));
            PrintWriter out = new PrintWriter(clientSocket.getOutputStream(), true);

            String inputLine;
            while ((inputLine = in.readLine()) != null) {
                if (inputLine.equalsIgnoreCase("exit")) {
                    System.out.println("Client disconnected.");
                    break;
                }

                try {
                    int number = Integer.parseInt(inputLine);
                    int sum = calculateSum(number);
                    out.println("Sum from 1 to " + number + " is: " + sum);
                } catch (NumberFormatException e) {
                    out.println("Invalid input. Please enter an integer.");
                }
            }

            clientSocket.close();
            serverSocket.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }

    private static int calculateSum(int n) {
        if (n > 0)
            return n * (n + 1) / 2; // Efficient positive sum
        else
            return (n * (1 - n)) / 2; // Efficient negative sum
    }
}
    </code></pre>

        <pre><code class="language-java">
import java.io.*;
import java.net.*;

public class Client {
    public static void main(String[] args) {
        try (
                BufferedReader console = new BufferedReader(new InputStreamReader(System.in))
        ) {
            System.out.print("Enter server IP address: ");
            String serverIP = console.readLine();

            System.out.print("Enter server port number: ");
            int port = Integer.parseInt(console.readLine());

            Socket socket = new Socket(serverIP, port);
            System.out.println("Connected to the server at " + serverIP + ":" + port);

            BufferedReader in = new BufferedReader(new InputStreamReader(socket.getInputStream()));
            PrintWriter out = new PrintWriter(socket.getOutputStream(), true);

            String userInput;
            while (true) {
                System.out.print("Enter a positive/negative integer (or 'Exit' to quit): ");
                userInput = console.readLine();
                out.println(userInput);

                if (userInput.equalsIgnoreCase("exit")) {
                    System.out.println("Exiting client...");
                    break;
                }

                String response = in.readLine();
                System.out.println("Server response: " + response);
            }

            socket.close();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}

    </code></pre>
</body>
</html>
